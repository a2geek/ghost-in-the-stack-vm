MAIN:
    DIM _ONERR_TARGET AS ADDRESS = null
    DIM _ONERR_FP AS ADDRESS = null
    DIM _ONERR_SP AS ADDRESS = null
    DIM A$ AS STRING = [""]
    DIM B$ AS STRING = [""]
    DIM C$ AS STRING = [""]
   0:     *(105) = 32768
   1:     CALL MEMORY.HEAPINIT()
   0:     CALL MEMORY.HEAPREFDECR(addrof(A$))
   1:     A$ = STRINGS.CHR$(197)
   2:     CALL MEMORY.HEAPREFINCR(A$)
   3:     CALL MEMORY.HEAPREFDECR(addrof(B$))
   4:     B$ = STRINGS.STRREVERSE("sdrawkcab")
   5:     CALL MEMORY.HEAPREFINCR(B$)
   6:     CALL MEMORY.HEAPREFDECR(addrof(C$))
   7:     C$ = STRINGS.STR$((- 12345))
   8:     CALL MEMORY.HEAPREFINCR(C$)
   9:     CALL RUNTIME.PRINT_STRING("Actuals:")
  10:     CALL RUNTIME.PRINT_NEWLINE()
  11:     CALL RUNTIME.PRINT_STRING("A$='")
  12:     CALL RUNTIME.PRINT_STRING(A$)
  13:     CALL RUNTIME.PRINT_STRING("', expected:'E'")
  14:     CALL RUNTIME.PRINT_NEWLINE()
  15:     CALL RUNTIME.PRINT_STRING("B$='")
  16:     CALL RUNTIME.PRINT_STRING(B$)
  17:     CALL RUNTIME.PRINT_STRING("', expected:'backwards'")
  18:     CALL RUNTIME.PRINT_NEWLINE()
  19:     CALL RUNTIME.PRINT_STRING("C$='")
  20:     CALL RUNTIME.PRINT_STRING(C$)
  21:     CALL RUNTIME.PRINT_STRING("', expected:'-12345'")
  22:     CALL RUNTIME.PRINT_NEWLINE()
  23:     CALL TEXT.INVERSE()
  24:     IF (((STRINGS.STRCMP(A$, "E") = 0) and (STRINGS.STRCMP(B$, "backwards") = 0)) and (STRINGS.STRCMP(C$, "-12345") = 0)) THEN
   0:         CALL RUNTIME.PRINT_STRING("SUCCESS")
   1:         CALL RUNTIME.PRINT_NEWLINE()
          ELSE
   0:         CALL RUNTIME.PRINT_STRING("FAIL")
   1:         CALL RUNTIME.PRINT_NEWLINE()
          END IF
  25:     CALL TEXT.NORMAL()
  26:     END

